@media screen and (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/**
 * Handle high contrast mode in Windows
 * @link http://adrianroselli.com/2017/12/tweaking-text-level-styles.html
 */
@media screen and (-ms-high-contrast: active) {
	a svg,
	button svg {
		background: none;
		border-color: Highlight;
		fill: Highlight;
	}

	mark {
		background-color: Highlight;
		color: HighlightText;
	}
}

/**
 * Dark mode
 */
html[data-theme="dark"] {
	color-scheme: dark;

	--hue: 210;
	--lightness: 60%;
	--treshold: 40%;
	--rotation: calc(var(--hue) - 30); // 1
	--brighter: max(calc(var(--lightness) / var(--light-scale)), 80%);
	--darker: min(calc(var(--lightness) * var(--light-scale)), 20%);
	--disabled: var(--neutral) 10%;
	--background: var(--neutral) 8%;
	--success-light: var(--right) 100% calc(var(--lightness) / 2);
	--success-dark: var(--right) 100% var(--brighter);

	img {
		filter: brightness(.8) contrast(1.2);
	}
}

@media screen and (prefers-color-scheme: dark) {
	.no-js,
	html:not([data-theme="light"]) {
		color-scheme: dark;

		--hue: 210;
		--lightness: 60%;
		--treshold: 40%;
		--rotation: calc(var(--hue) - 30); // 1
		--brighter: max(calc(var(--lightness) / var(--light-scale)), 80%);
		--darker: min(calc(var(--lightness) * var(--light-scale)), 20%);
		--disabled: var(--neutral) 10%;
		--background: var(--neutral) 8%;
		--success-light: var(--right) 100% calc(var(--lightness) / 2);
		--success-dark: var(--right) 100% var(--brighter);

		img {
			filter: brightness(.8) contrast(1.2);
		}
	}
}
